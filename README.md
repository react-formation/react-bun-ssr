# react-bun-ssr

`react-bun-ssr` is a TypeScript-first SSR React framework built for Bun.

This repository contains both:
- The framework implementation (`framework/**`, `bin/**`).
- The official documentation site built with the framework itself (`app/**`, `docs/**`).

## Project layout

- `framework/`: runtime, router, renderer, build tooling, and CLI internals.
- `bin/rbssr.ts`: CLI entrypoint.
- `app/`: docs web app routes, layouts, middleware, and styles.
- `docs/content/`: hand-authored markdown guides.
- `docs/meta/sidebar.ts`: docs navigation source of truth.
- `docs/generated/`: generated API docs and search index.
- `tests/`: unit + integration tests.
- `e2e/`: Playwright end-to-end tests.

## Requirements

- Bun `>= 1.3.9`
- macOS/Linux (or equivalent Bun-supported environment)

## Run locally

Install dependencies:

```bash
bun install
```

Run docs site in development:

```bash
bun run docs:dev
```

Open:

```text
http://127.0.0.1:3000
```

Build production artifacts:

```bash
bun run docs:build
```

Start production server:

```bash
bun run docs:preview
```

## Useful commands

Framework:

```bash
bun run dev
bun run build
bun run start
bun run typecheck
bun run test
```

Docs:

```bash
bun run docs:dev
bun run docs:check
bun run docs:build
bun run docs:preview
```

## Generated files

Do not hand-edit generated docs artifacts:
- `docs/generated/api/*.md`
- `docs/generated/search-index.json`

They are regenerated by:
- `bun run scripts/generate-api-docs.ts`
- `bun run scripts/build-search-index.ts`
- or automatically via `bun run docs:build`

## Collaboration guide

### 1. Create a branch

```bash
git checkout -b feat/<short-description>
```

### 2. Make changes

- Framework code: update `framework/**`.
- Docs content: update `docs/content/**`.
- Nav changes: update `docs/meta/sidebar.ts`.
- If exports change, regenerate API docs/search index.

### 3. Validate before pushing

```bash
bun run test
bun run docs:check
bun run docs:build
```

### 4. Commit with generated artifacts when needed

If your changes affect API docs or search corpus, commit updated files under `docs/generated/**`.

### 5. Open a PR

Include:
- Problem statement.
- Approach and tradeoffs.
- Testing performed.
- Screenshots/GIF for docs UI changes (if relevant).

## CI contract

CI runs:
- `bun run test`
- `bun run docs:check`
- `bun run docs:build`

`docs:check` fails when docs metadata, links, or generated artifacts are stale.
